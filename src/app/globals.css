@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply min-h-screen w-full bg-minecraft-slate-700 bg-cover bg-no-repeat text-gray-50;
  }
}

@layer components {
  .input {
    @apply min-h-8 rounded border border-minecraft-slate-600 bg-minecraft-slate-800 px-2 py-1 text-sm text-white shadow-inner drop-shadow-sm transition-colors duration-200 ease-out selection:bg-white/20 selection:text-gray-50 hover:bg-minecraft-slate-700 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-minecraft-slate-900;
  }

  .input-label {
    @apply text-sm font-medium leading-loose text-gray-300;
  }

  .file-path {
    @apply rounded-md border border-minecraft-slate-600/25 bg-minecraft-slate-700/25 px-2 py-1.5 font-mono text-sm leading-snug text-gray-50/90 shadow-sm;
  }

  .error-message {
    @apply bg-red-800 text-sm text-red-50;
  }

  .card {
    @apply mx-auto w-full rounded-lg border border-minecraft-slate-500/50 bg-gradient-to-b from-minecraft-slate-900/90 to-minecraft-slate-900/20 text-white shadow-lg backdrop-blur-xl sm:min-w-32;

    &__body {
      @apply flex flex-1 flex-col items-stretch justify-start overflow-hidden rounded-b-lg p-2;
    }
  }

  .card-title {
    @apply px-2 py-1.5 text-2xl font-semibold text-opacity-90;
  }

  .sideload-badge {
    @apply rounded-md border border-white border-opacity-50 px-2 py-1 text-xs font-semibold text-white;
  }

  .sideload-button {
    @apply rounded-md bg-minecraft-purple-800 px-2 py-1 text-sm font-semibold text-white;
  }

  .btn {
    @apply relative isolate inline-flex items-center justify-center gap-x-2 overflow-hidden truncate rounded border border-gray-500/50 bg-minecraft-slate-900/50 px-2 py-1 text-xs font-medium uppercase tracking-wide shadow-sm transition-all duration-200 ease-out focus:outline-none;

    &.btn--lg {
      @apply px-4 py-2 text-sm;
    }

    &.btn--sm {
      @apply px-1.5 py-0.5 text-xs;
    }

    &.btn--primary {
      @apply bg-minecraft-green-300/50 text-white/90;

      &:hover {
        @apply bg-minecraft-green-300;
      }
    }

    &.btn--secondary {
      @apply bg-minecraft-slate-800/50 text-white/90;

      &:hover {
        @apply bg-minecraft-slate-800;
      }
    }

    &[disabled] {
      @apply cursor-not-allowed text-opacity-50;
    }

    &__upper-border,
    &__lower-border,
    &__left-border,
    &__right-border {
      @apply pointer-events-none absolute opacity-90 transition-all duration-200 ease-out;
    }

    &__upper-border {
      @apply left-0 top-0 h-0.5 w-full bg-white/10 bg-blend-screen;
    }

    &__lower-border {
      @apply bottom-0 right-0 h-0.5 w-full bg-black/25 bg-blend-multiply;
    }

    &__left-border {
      @apply bottom-0 left-0 h-full w-0.5 bg-white/10 bg-blend-screen;
    }

    &__right-border {
      @apply right-0 top-0 h-full w-0.5 bg-black/10 bg-blend-multiply;
    }

    &:hover &__upper-border,
    &:hover &__lower-border,
    &:hover &__left-border,
    &:hover &__right-border,
    &:focus &__upper-border,
    &:focus &__lower-border,
    &:focus &__left-border,
    &:focus &__right-border {
      @apply opacity-50;
    }
  }

  .tab-list {
    @apply flex w-full flex-grow divide-y divide-minecraft-slate-500 rounded border-0 sm:flex-row sm:items-stretch sm:justify-stretch sm:divide-x sm:divide-y-0;

    &__tab {
      @apply flex flex-1 -translate-y-1 items-stretch justify-stretch overflow-hidden pb-1 transition-all duration-200 ease-out;

      &[data-headlessui-state="selected"] {
        @apply mt-1 bg-minecraft-slate-800/75 outline-none;

        &:hover {
          @apply pointer-events-none bg-minecraft-slate-700;
        }
      }

      &:not([data-headlessui-state="selected"]) {
        @apply mb-1 outline-none;
      }
    }

    &__btn {
      @apply flex h-full flex-grow flex-col items-stretch justify-start overflow-hidden truncate bg-minecraft-slate-800;
    }

    &__btn > span {
      /* Outer border */
      @apply cursor-pointer select-none truncate whitespace-nowrap border-2 border-minecraft-slate-100/50 bg-minecraft-slate-200/75 px-4 py-1.5 text-sm font-semibold uppercase tracking-wide text-gray-900 backdrop-blur-lg transition-colors;

      /* Bottom line border */
      & + span {
        @apply w-full flex-1 border-0 border-b-2 border-minecraft-slate-900 bg-minecraft-slate-700/80 p-0 backdrop-blur-xl;
      }
    }
  }

  .tab-list__tab[data-headlessui-state="selected"] > .tab-list__btn > span {
    @apply border-minecraft-green-300/50 bg-minecraft-green-200 text-white/90;

    &:hover {
      @apply bg-minecraft-green-300;
    }
  }
}
